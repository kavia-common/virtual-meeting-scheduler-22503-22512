{"is_source_file": true, "format": "TypeScript", "description": "This file provides API utility functions for a frontend application, including wrappers around fetch for making API requests, error handling, token management, and API methods related to authentication, meetings, and calendar data. It defines classes, functions, and constants used for communicating with the backend server.", "external_files": ["react", "localStorage"], "external_methods": ["localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "import.meta.env.VITE_API_BASE_URL", "import.meta.env.VITE_SITE_URL"], "published": ["apiFetch", "ApiError", "getToken", "setToken", "AuthAPI", "MeetingsAPI", "CalendarAPI", "User", "Meeting", "NewMeeting"], "classes": [{"name": "ApiError", "description": "Represents API HTTP errors, extending the Error class with additional status and data properties."}], "methods": [{"name": "export async function apiFetch<T = unknown>( apiFetch", "description": "Main function to perform fetch requests with base URL, JSON handling, and optional auth header injection.", "scope": "", "scopeKind": ""}, {"name": "export function getToken(): string | null { getToken", "description": "Retrieves the persisted authentication token from localStorage.", "scope": "", "scopeKind": ""}, {"name": "export function setToken(token: string | null) { setToken", "description": "Persists or clears the authentication token in localStorage.", "scope": "", "scopeKind": ""}, {"name": "signIn", "description": "Signs in the user with email and password, returning a token and user info."}, {"name": "signUp", "description": "Registers a new user with provided details, returning a token and user info."}, {"name": "me", "description": "Fetches the current authenticated user information."}, {"name": "forgot", "description": "Triggers password reset email for the specified email."}, {"name": "reset", "description": "Resets the password using a token and new password."}, {"name": "list", "description": "Retrieves the list of meetings (requires auth)."}, {"name": "create", "description": "Creates a new meeting with specified input data."}, {"name": "update", "description": "Updates an existing meeting identified by ID."}, {"name": "remove", "description": "Deletes a meeting by ID."}, {"name": "get", "description": "Retrieves details of a specific meeting by ID."}, {"name": "invite", "description": "Sends invitations to specified emails for a meeting."}, {"name": "join", "description": "Generates an invitation link or joins a meeting."}, {"name": "list", "description": "Lists calendar events within a range."}, {"name": "constructor(message: string, status: number, data?: unknown) { constructor", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}], "calls": ["fetch", "JSON.parse", "JSON.stringify", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem"], "search-terms": ["apiFetch", "ApiError", "auth", "meetings", "calendar", "token", "API wrappers"], "state": 2, "file_id": 14, "knowledge_revision": 58, "git_revision": "", "revision_history": [{"30": ""}, {"58": ""}], "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export class ApiError extends Error {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "AuthAPI", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export const AuthAPI = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "CalendarAPI", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export const CalendarAPI = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Meeting", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export type Meeting = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "MeetingsAPI", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export const MeetingsAPI = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "NewMeeting", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export type NewMeeting = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export type User = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export async function apiFetch<T = unknown>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^  const base = import.meta.env.VITE_API_BASE_URL as string | undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^  constructor(message: string, status: number, data?: unknown) {$/", "language": "TypeScript", "kind": "method", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "contentType", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^  const contentType = res.headers.get(\"Content-Type\") || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^  data: unknown;$/", "language": "TypeScript", "kind": "property", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^    const errorData = data as { message?: string; error?: string } | undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "errorData", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^    const errorData = data as { message?: string; error?: string } | undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "getToken", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export function getToken(): string | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^  const headers = new Headers(options.headers);$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^    const message = errorData?.message || errorData?.error || res.statusText || \"Request failed\"/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^  const res = await fetch(url, { ...options, headers });$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "setToken", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^export function setToken(token: string | null) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "signIn", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^  async signIn(email: string, password: string) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^  status: number;$/", "language": "TypeScript", "kind": "property", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^    const text = await res.text().catch(() => \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^    const token = getToken();$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/virtual-meeting-scheduler-22503-22512/meeting_app_frontend/app/utils/api.ts", "pattern": "/^  const url = `${base ?? \"\"}${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}], "hash": "b68580485688b621f4f05a1ae0cd735f", "format-version": 4, "code-base-name": "meeting_app_frontend", "filename": "meeting_app_frontend/app/utils/api.ts", "fields": [{"name": "data: unknown;", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}, {"name": "status: number;", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}]}